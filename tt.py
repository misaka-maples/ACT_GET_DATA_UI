import numpy as np
from tcp_tx import PersistentClient
# 随机生成 (199, 16) 的弧度数据（范围：-π 到 π）
arr = np.random.randint(low=2, high=3, size=(199, 16))
arr = np.array([
    [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],
    [2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],
    [3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],
    [5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],
    [50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65]
     
])
change_points_left = [
                   
                    [-127.205, -584.918, -238.196, 2.8373, -0.121059, 1.07089],#左手，先开爪
                   [-122.71, -575.238, -306.627, 2.51576, -0.107987, 0.866255],
                    [-124.89, -608.516, -345.528, 2.41849, 0.0261467, 0.859578],#关闭左，开右夹爪
                   [-126.071, -676.698, -177.695, 2.5211, -0.176558, 1.30888],
                   [-124.581, -752.295, -212.366, 2.47183, -0.00239102, 2.28396],
                    [-129.127, -810.615, -288.951, 2.4716, -0.00248988, 2.28385],
                     [-109.0, -811.015, -288.718, 2.47157, -0.00245327, 2.28383],
                    [-129.127, -810.615, -288.951, 2.4716, -0.00248988, 2.28385],
                   [-124.961, -813.379, -286.805, 2.47164, -0.00239282, 2.28384],
                    [-41.0751, -734.438, 207.143, 2.28154, 0.145922, 2.31647],
                    [629.137, -161.689, 590.811, 1.6477, 1.38221, 2.1665],
                    [-41.0751, -734.438, 207.143, 2.28154, 0.145922, 2.31647],
                      [-127.205, -584.918, -238.196, 2.8373, -0.121059, 1.07089]
                       ]  # 存储所有点位
robot = PersistentClient('192.168.3.15', 8001)
for point in change_points_left:
    robot.set_arm_position(point, "pose", 1)

# print(arr)
# 打印部分原始数据
# print("转换前（部分）：")
# print(arr[:1, 8:14])

# # 将第6列（索引5）和第9-14列（索引8-13）从弧度转换为角度
# # arr[:, :6] = np.degrees(arr[:, :6])
# # arr[:, 8:14] = np.degrees(arr[:, 8:14])

# # 打印部分转换后的数据
# print("\n转换后（部分）：")
# print(arr[:1, 8:14],arr[:1,14:])
# qpos = arr
# qpos[0,:]=0
# qpos[1:, :] = qpos[1:, :] - qpos[:-1, :]
# # qpos[1:, 8:14] = qpos[1:, 8:14] - qpos[:-1, 8:14]
# print(qpos.shape,qpos)
